!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("request")):"function"==typeof define&&define.amd?define("LivepeerEmitter",["request"],e):"object"==typeof exports?exports.LivepeerEmitter=e(require("request")):t.LivepeerEmitter=e(t.request)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=48)}([function(t,e){},function(t,e,r){"use strict";(function(t,n){function i(t){return"object"==typeof t&&null!==t}function o(){x.silent||console.error.apply(console,arguments)}function s(t){if("string"!=typeof t)throw new TypeError("input must be a string");return t.replace(/\\/g,"/")}function c(t,e,r){if("string"!=typeof t)throw new Error("msg must be a string");var n={continue:!1,code:1,prefix:A.currentCmd+": ",silent:!1};"number"==typeof e&&i(r)?r.code=e:i(e)?r=e:"number"==typeof e?r={code:e}:"number"!=typeof e&&(r={}),r=S({},n,r),A.errorCode||(A.errorCode=r.code);var c=s(r.prefix+t);if(A.error=A.error?A.error+"\n":"",A.error+=c,x.fatal)throw new Error(c);if(t.length>0&&!r.silent&&o(c),!r.continue)throw{msg:"earlyExit",retValue:new a("",A.error,A.errorCode)}}function a(t,e,r){var n;return t instanceof Array?(n=t,n.stdout=t.join("\n"),t.length>0&&(n.stdout+="\n")):(n=new String(t),n.stdout=t),n.stderr=e,n.code=r,k.forEach(function(t){n[t]=E[t].bind(n)}),n}function u(){return v.homedir?v.homedir():t.env["win32"===t.platform?"USERPROFILE":"HOME"]}function f(t,e,r){if("string"!=typeof t&&!i(t))throw new Error("options must be strings or key-value pairs");if(!i(e))throw new Error("parseOptions() internal error: map must be an object");if(r&&!i(r))throw new Error("parseOptions() internal error: errorOptions must be object");var n={};if(Object.keys(e).forEach(function(t){var r=e[t];"!"!==r[0]&&(n[r]=!1)}),""===t)return n;if("string"==typeof t){"-"!==t[0]&&c("Options string must start with a '-'",r||{});t.slice(1).split("").forEach(function(t){if(t in e){var i=e[t];"!"===i[0]?n[i.slice(1)]=!1:n[i]=!0}else c("option not recognized: "+t,r||{})})}else Object.keys(t).forEach(function(i){var o=i[1];if(o in e){var s=e[o];n[s]=t[i]}else c("option not recognized: "+o,r||{})});return n}function l(t){if(!Array.isArray(t))throw new TypeError("must be an array");var e=[];return t.forEach(function(t){if("string"!=typeof t)e.push(t);else{var r;try{r=b.sync(t,x.globOptions),r=r.length>0?r:[t]}catch(e){r=[t]}e=e.concat(r)}}),e}function h(t){try{m.unlinkSync(t)}catch(e){if("EPERM"!==e.code)throw e;m.chmodSync(t,"0666"),m.unlinkSync(t)}}function p(){function t(e){if(1===e)return parseInt(16*Math.random(),10).toString(16);for(var r="",n=0;n<e;n++)r+=t(1);return r}return"shelljs_"+t(20)}function d(e,r,n){return n=n||{},n.canReceivePipe&&k.push(e),function(){var o=null;A.currentCmd=e,A.error=null,A.errorCode=0;try{var s=[].slice.call(arguments,0);if(x.verbose&&console.error.apply(console,[e].concat(s)),A.pipedValue=this&&"string"==typeof this.stdout?this.stdout:"",!1===n.unix)o=r.apply(this,s);else{i(s[0])&&"Object"===s[0].constructor.name||(0===s.length||"string"!=typeof s[0]||s[0].length<=1||"-"!==s[0][0])&&s.unshift(""),s=s.reduce(function(t,e){return Array.isArray(e)?t.concat(e):(t.push(e),t)},[]),s=s.map(function(t){return i(t)&&"String"===t.constructor.name?t.toString():t});var c=u();s=s.map(function(t){return"string"==typeof t&&"~/"===t.slice(0,2)||"~"===t?t.replace(/^~/,c):t}),x.noglob||!0!==n.allowGlobbing||(s=s.slice(0,n.globStart).concat(l(s.slice(n.globStart))));try{i(n.cmdOptions)&&(s[0]=f(s[0],n.cmdOptions)),o=r.apply(this,s)}catch(t){if("earlyExit"!==t.msg)throw t;o=t.retValue}}}catch(e){if(A.error||(console.error("ShellJS: internal error"),console.error(e.stack||e),t.exit(1)),x.fatal)throw e}return n.wrapOutput&&("string"==typeof o||Array.isArray(o))&&(o=new a(o,A.error,A.errorCode)),A.currentCmd="shell.js",o}}function y(){return A.pipedValue}function g(t,e,r){if(r=r||{},r=S({},R,r),w[t]&&!r.overWrite)throw new Error("unable to overwrite `"+t+"` command");r.pipeOnly?(r.canReceivePipe=!0,E[t]=d(t,e,r)):w[t]=d(t,e,r)}var v=r(4),m=r(0),b=r(5),w=r(18),E=Object.create(w),S="function"==typeof Object.assign?Object.assign:function(t){return[].slice.call(arguments,1).forEach(function(e){Object.keys(e).forEach(function(r){t[r]=e[r]})}),t};e.extend=S;var _=Boolean(t.versions.electron),O={fatal:!1,globOptions:{},maxdepth:255,noglob:!1,silent:!1,verbose:!1,execPath:null,bufLength:65536},x={reset:function(){S(this,O),_||(this.execPath=t.execPath)},resetForTesting:function(){this.reset(),this.silent=!0}};x.reset(),e.config=x;var A={error:null,errorCode:0,currentCmd:"shell.js",tempDir:null};e.state=A,delete t.env.OLDPWD;var k=[];e.isObject=i,e.log=o,e.convertErrorOutput=s,e.error=c,e.ShellString=a,e.getUserHome=u,e.parseOptions=f,e.expand=l;var j="function"==typeof n.alloc?function(t){return n.alloc(t||x.bufLength)}:function(t){return new n(t||x.bufLength)};e.buffer=j,e.unlinkSync=h,e.randomFileName=p,e.wrap=d,e.readFromPipe=y;var R={allowGlobbing:!0,canReceivePipe:!1,cmdOptions:!1,globStart:1,pipeOnly:!1,unix:!0,wrapOutput:!0,overWrite:!1};e.register=g}).call(e,r(2),r(50).Buffer)},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):g=-1,d.length&&c())}function c(){if(!y){var t=i(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,y=!1,o(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var f,l,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],y=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new a(t,e)),1!==d.length||y||i(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=r(n(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===s(t,-1);return t=r(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),c=s,a=0;a<s;a++)if(i[a]!==o[a]){c=a;break}for(var u=[],a=c;a<i.length;a++)u.push("..");return u=u.concat(o.slice(c)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(2))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n"},function(t,e,r){(function(e){function n(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return y(t,e)}return new o(t,e,r)}function i(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function o(t,r,n){function i(){--c._processing<=0&&(a?e.nextTick(function(){c._finish()}):c._finish())}if("function"==typeof r&&(n=r,r=null),r&&r.sync){if(n)throw new TypeError("callback provided to sync glob");return new _(t,r)}if(!(this instanceof o))return new o(t,r,n);v(this,t,r),this._didRealPath=!1;var s=this.minimatch.set.length;this.matches=new Array(s),"function"==typeof n&&(n=S(n),this.on("error",n),this.on("end",function(t){n(null,t)}));var c=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===s)return i();for(var a=!0,u=0;u<s;u++)this._process(this.minimatch.set[u],u,!1,i);a=!1}function s(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}t.exports=n;var c=r(0),a=r(19),u=r(7),f=(u.Minimatch,r(20)),l=r(21).EventEmitter,h=r(3),p=r(8),d=r(10),y=r(59),g=r(22),v=(g.alphasort,g.alphasorti,g.setopts),m=g.ownProp,b=r(60),w=(r(9),g.childrenIgnored),E=g.isIgnored,S=r(24);n.sync=y;var _=n.GlobSync=y.GlobSync;n.glob=n,n.hasMagic=function(t,e){var r=i({},e);r.noprocess=!0;var n=new o(t,r),s=n.minimatch.set;if(!t)return!1;if(s.length>1)return!0;for(var c=0;c<s[0].length;c++)if("string"!=typeof s[0][c])return!0;return!1},n.Glob=o,f(o,l),o.prototype._finish=function(){if(p(this instanceof o),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();g.finish(this),this.emit("end",this.found)}},o.prototype._realpath=function(){function t(){0==--e&&r._finish()}if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var r=this,n=0;n<this.matches.length;n++)this._realpathSet(n,t)}},o.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,o=n.length;if(0===o)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(r,n){r=i._makeAbs(r),a.realpath(r,i.realpathCache,function(n,c){n?"stat"===n.syscall?s[r]=!0:i.emit("error",n):s[c]=!0,0==--o&&(i.matches[t]=s,e())})})},o.prototype._mark=function(t){return g.mark(this,t)},o.prototype._makeAbs=function(t){return g.makeAbs(this,t)},o.prototype.abort=function(){this.aborted=!0,this.emit("abort")},o.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},o.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},o.prototype._process=function(t,e,r,n){if(p(this instanceof o),p("function"==typeof n),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([t,e,r,n]);for(var i=0;"string"==typeof t[i];)i++;var s;switch(i){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,i).join("/")}var c,a=t.slice(i);null===s?c=".":d(s)||d(t.join("/"))?(s&&d(s)||(s="/"+s),c=s):c=s;var f=this._makeAbs(c);if(w(this,c))return n();a[0]===u.GLOBSTAR?this._processGlobStar(s,c,f,a,e,r,n):this._processReaddir(s,c,f,a,e,r,n)}},o.prototype._processReaddir=function(t,e,r,n,i,o,s){var c=this;this._readdir(r,o,function(a,u){return c._processReaddir2(t,e,r,n,i,o,u,s)})},o.prototype._processReaddir2=function(t,e,r,n,i,o,s,c){if(!s)return c();for(var a=n[0],u=!!this.minimatch.negate,f=a._glob,l=this.dot||"."===f.charAt(0),p=[],d=0;d<s.length;d++){var y=s[d];if("."!==y.charAt(0)||l){var g;g=u&&!t?!y.match(a):y.match(a),g&&p.push(y)}}var v=p.length;if(0===v)return c();if(1===n.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<v;d++){var y=p[d];t&&(y="/"!==t?t+"/"+y:t+y),"/"!==y.charAt(0)||this.nomount||(y=h.join(this.root,y)),this._emitMatch(i,y)}return c()}n.shift();for(var d=0;d<v;d++){var y=p[d];t&&(y="/"!==t?t+"/"+y:t+y),this._process([y].concat(n),i,o,c)}c()},o.prototype._emitMatch=function(t,e){if(!this.aborted&&!E(this,e)){if(this.paused)return void this._emitQueue.push([t,e]);var r=d(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},o.prototype._readdirInGlobStar=function(t,e){function r(r,n){if(r&&"ENOENT"===r.code)return e();var o=n&&n.isSymbolicLink();i.symlinks[t]=o,o||!n||n.isDirectory()?i._readdir(t,!1,e):(i.cache[t]="FILE",e())}if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var n="lstat\0"+t,i=this,o=b(n,r);o&&c.lstat(t,o)}},o.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=b("readdir\0"+t+"\0"+e,r))){if(e&&!m(this.symlinks,t))return this._readdirInGlobStar(t,r);if(m(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}c.readdir(t,s(this,t,r))}},o.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},o.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},o.prototype._processGlobStar=function(t,e,r,n,i,o,s){var c=this;this._readdir(r,o,function(a,u){c._processGlobStar2(t,e,r,n,i,o,u,s)})},o.prototype._processGlobStar2=function(t,e,r,n,i,o,s,c){if(!s)return c();var a=n.slice(1),u=t?[t]:[],f=u.concat(a);this._process(f,i,!1,c);var l=this.symlinks[r],h=s.length;if(l&&o)return c();for(var p=0;p<h;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],a);this._process(d,i,!0,c);var y=u.concat(s[p],n);this._process(y,i,!0,c)}}c()},o.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,o){n._processSimple2(t,e,i,o,r)})},o.prototype._processSimple2=function(t,r,n,i,o){if(this.matches[r]||(this.matches[r]=Object.create(null)),!i)return o();if(t&&d(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=h.join(this.root,t):(t=h.resolve(this.root,t),s&&(t+="/"))}"win32"===e.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t),o()},o.prototype._stat=function(t,e){function r(r,i){if(i&&i.isSymbolicLink())return c.stat(n,function(r,o){r?u._stat2(t,n,null,i,e):u._stat2(t,n,r,o,e)});u._stat2(t,n,r,i,e)}var n=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&m(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return e(null,o);if(i&&"FILE"===o)return e()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?e():e(null,a,s)}var u=this,f=b("stat\0"+n,r);f&&c.lstat(n,f)},o.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&"FILE"===s?i():i(null,s,n)}}).call(e,r(2))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){function n(t,e){return e=e||{},function(r,n,i){return o(r,t,e)}}function i(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function o(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new s(e,r).match(t))}function s(t,e){if(!(this instanceof s))return new s(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==y.sep&&(t=t.split(y.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function c(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(t){return t.split(O)}),this.debug(this.pattern,r),r=r.map(function(t,e,r){return t.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,r),this.set=r}}function a(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}function u(t,e){if(e||(e=this instanceof s?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:v(t)}function f(t,e){function r(){if(i){switch(i){case"*":s+=w,c=!0;break;case"?":s+=b,c=!0;break;default:s+="\\"+i}v.debug("clearStateChar %j %j",i,s),i=!1}}if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return g;if(""===t)return"";for(var i,o,s="",c=!!n.nocase,a=!1,u=[],f=[],l=!1,h=-1,d=-1,y="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this,E=0,S=t.length;E<S&&(o=t.charAt(E));E++)if(this.debug("%s\t%s %s %j",t,E,s,o),a&&_[o])s+="\\"+o,a=!1;else switch(o){case"/":return!1;case"\\":r(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,E,s,o),l){this.debug("  in class"),"!"===o&&E===d+1&&(o="^"),s+=o;continue}v.debug("call clearStateChar %j",i),r(),i=o,n.noext&&r();continue;case"(":if(l){s+="(";continue}if(!i){s+="\\(";continue}u.push({type:i,start:E-1,reStart:s.length,open:m[i].open,close:m[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(l||!u.length){s+="\\)";continue}r(),c=!0;var O=u.pop();s+=O.close,"!"===O.type&&f.push(O),O.reEnd=s.length;continue;case"|":if(l||!u.length||a){s+="\\|",a=!1;continue}r(),s+="|";continue;case"[":if(r(),l){s+="\\"+o;continue}l=!0,d=E,h=s.length,s+=o;continue;case"]":if(E===d+1||!l){s+="\\"+o,a=!1;continue}if(l){var A=t.substring(d+1,E);try{RegExp("["+A+"]")}catch(t){var k=this.parse(A,x);s=s.substr(0,h)+"\\["+k[0]+"\\]",c=c||k[1],l=!1;continue}}c=!0,l=!1,s+=o;continue;default:r(),a?a=!1:!_[o]||"^"===o&&l||(s+="\\"),s+=o}for(l&&(A=t.substr(d+1),k=this.parse(A,x),s=s.substr(0,h)+"\\["+k[0],c=c||k[1]),O=u.pop();O;O=u.pop()){var j=s.slice(O.reStart+O.open.length);this.debug("setting tail",s,O),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){return r||(r="\\"),e+e+r+"|"}),this.debug("tail=%j\n   %s",j,j,O,s);var R="*"===O.type?w:"?"===O.type?b:"\\"+O.type;c=!0,s=s.slice(0,O.reStart)+R+"\\("+j}r(),a&&(s+="\\\\");var P=!1;switch(s.charAt(0)){case".":case"[":case"(":P=!0}for(var T=f.length-1;T>-1;T--){var L=f[T],D=s.slice(0,L.reStart),I=s.slice(L.reStart,L.reEnd-8),N=s.slice(L.reEnd-8,L.reEnd),C=s.slice(L.reEnd);N+=C;var F=D.split("(").length-1,M=C;for(E=0;E<F;E++)M=M.replace(/\)[+*?]?/,"");C=M;var B="";""===C&&e!==x&&(B="$");s=D+I+C+B+N}if(""!==s&&c&&(s="(?=.)"+s),P&&(s=y+s),e===x)return[s,c];if(!c)return p(t);var U=n.nocase?"i":"";try{var Y=new RegExp("^"+s+"$",U)}catch(t){return new RegExp("$.")}return Y._glob=t,Y._src=s,Y}function l(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?w:e.dot?E:S,n=e.nocase?"i":"",i=t.map(function(t){return t.map(function(t){return t===g?r:"string"==typeof t?d(t):t._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp}function h(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==y.sep&&(t=t.split(y.sep).join("/")),t=t.split(O),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<n.length;o++){var s=n[o],c=t;r.matchBase&&1===s.length&&(c=[i]);if(this.matchOne(c,s,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}function p(t){return t.replace(/\\(.)/g,"$1")}function d(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}t.exports=o,o.Minimatch=s;var y={sep:"/"};try{y=r(3)}catch(t){}var g=o.GLOBSTAR=s.GLOBSTAR={},v=r(55),m={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},b="[^/]",w=b+"*?",E="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",S="(?:(?!(?:\\/|^)\\.).)*?",_=function(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}("().*{}+?[]^$\\!"),O=/\/+/;o.filter=n,o.defaults=function(t){if(!t||!Object.keys(t).length)return o;var e=o,r=function(r,n,o){return e.minimatch(r,n,i(t,o))};return r.Minimatch=function(r,n){return new e.Minimatch(r,i(t,n))},r},s.defaults=function(t){return t&&Object.keys(t).length?o.defaults(t).Minimatch:s},s.prototype.debug=function(){},s.prototype.make=c,s.prototype.parseNegate=a,o.braceExpand=function(t,e){return u(t,e)},s.prototype.braceExpand=u,s.prototype.parse=f;var x={};o.makeRe=function(t,e){return new s(t,e||{}).makeRe()},s.prototype.makeRe=l,o.match=function(t,e,r){r=r||{};var n=new s(e,r);return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},s.prototype.match=h,s.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,c=e.length;i<s&&o<c;i++,o++){this.debug("matchOne loop");var a=e[o],u=t[i];if(this.debug(e,a,u),!1===a)return!1;if(a===g){this.debug("GLOBSTAR",[e,a,u]);var f=i,l=o+1;if(l===c){for(this.debug("** at the end");i<s;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;f<s;){var h=t[f];if(this.debug("\nglobstar while",t,f,e,l,h),this.matchOne(t.slice(f),e.slice(l),r))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,f,e,l);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!r||(this.debug("\n>>> no match, partial?",t,f,e,l),f!==s))}var p;if("string"==typeof a?(p=n.nocase?u.toLowerCase()===a.toLowerCase():u===a,this.debug("string match",a,u,p)):(p=u.match(a),this.debug("pattern match",a,u,p)),!p)return!1}if(i===s&&o===c)return!0;if(i===s)return r;if(o===c){return i===s-1&&""===t[i]}throw new Error("wtf?")}},function(t,e,r){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function s(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function c(t){if(w.isFunction(t)){if(_)return t.name;var e=t.toString(),r=e.match(x);return r&&r[1]}}function a(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(_||!w.isFunction(t))return w.inspect(t);var e=c(t);return"[Function"+(e?": "+e:"")+"]"}function f(t){return a(u(t.actual),128)+" "+t.operator+" "+a(u(t.expected),128)}function l(t,e,r,n,i){throw new O.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function h(t,e){t||l(t,!0,e,"==",O.ok)}function p(t,e,r,c){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(w.isDate(t)&&w.isDate(e))return t.getTime()===e.getTime();if(w.isRegExp(t)&&w.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(s(t)&&s(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;c=c||{actual:[],expected:[]};var a=c.actual.indexOf(t);return-1!==a&&a===c.expected.indexOf(e)||(c.actual.push(t),c.expected.push(e),y(t,e,r,c))}return r?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function y(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(w.isPrimitive(t)||w.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=S.call(t),e=S.call(e),p(t,e,r);var s,c,a=A(t),u=A(e);if(a.length!==u.length)return!1;for(a.sort(),u.sort(),c=a.length-1;c>=0;c--)if(a[c]!==u[c])return!1;for(c=a.length-1;c>=0;c--)if(s=a[c],!p(t[s],e[s],r,n))return!1;return!0}function g(t,e,r){p(t,e,!0)&&l(t,e,r,"notDeepStrictEqual",g)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function m(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=m(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&l(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&w.isError(i),c=!t&&i&&!r;if((s&&o&&v(i,r)||c)&&l(i,r,"Got unwanted exception"+n),t&&i&&r&&!v(i,r)||!t&&i)throw i}var w=r(9),E=Object.prototype.hasOwnProperty,S=Array.prototype.slice,_=function(){return"foo"===function(){}.name}(),O=t.exports=h,x=/\s*function\s+([^\(\s]*)\s*/;O.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var e=t.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=c(e),o=n.indexOf("\n"+i);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}},w.inherits(O.AssertionError,Error),O.fail=l,O.ok=h,O.equal=function(t,e,r){t!=e&&l(t,e,r,"==",O.equal)},O.notEqual=function(t,e,r){t==e&&l(t,e,r,"!=",O.notEqual)},O.deepEqual=function(t,e,r){p(t,e,!1)||l(t,e,r,"deepEqual",O.deepEqual)},O.deepStrictEqual=function(t,e,r){p(t,e,!0)||l(t,e,r,"deepStrictEqual",O.deepStrictEqual)},O.notDeepEqual=function(t,e,r){p(t,e,!1)&&l(t,e,r,"notDeepEqual",O.notDeepEqual)},O.notDeepStrictEqual=g,O.strictEqual=function(t,e,r){t!==e&&l(t,e,r,"===",O.strictEqual)},O.notStrictEqual=function(t,e,r){t===e&&l(t,e,r,"!==",O.notStrictEqual)},O.throws=function(t,e,r){b(!0,t,e,r)},O.doesNotThrow=function(t,e,r){b(!1,t,e,r)},O.ifError=function(t){if(t)throw t};var A=Object.keys||function(t){var e=[];for(var r in t)E.call(t,r)&&e.push(r);return e}}).call(e,r(6))},function(t,e,r){(function(t,n){function i(t,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,t,n.depth)}function o(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function s(t,e){return t}function c(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function a(t,r,n){if(t.customInspect&&r&&A(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=a(t,i,n)),i}var o=u(t,r);if(o)return o;var s=Object.keys(r),y=c(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),x(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(A(r)){var g=r.name?": "+r.name:"";return t.stylize("[Function"+g+"]","special")}if(S(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return t.stylize(Date.prototype.toString.call(r),"date");if(x(r))return f(r)}var v="",m=!1,w=["{","}"];if(d(r)&&(m=!0,w=["[","]"]),A(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(S(r)&&(v=" "+RegExp.prototype.toString.call(r)),O(r)&&(v=" "+Date.prototype.toUTCString.call(r)),x(r)&&(v=" "+f(r)),0===s.length&&(!m||0==r.length))return w[0]+v+w[1];if(n<0)return S(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);var E;return E=m?l(t,r,n,y,s):s.map(function(e){return h(t,r,n,y,e,m)}),t.seen.pop(),p(E,v,w)}function u(t,e){if(E(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return m(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i){for(var o=[],s=0,c=e.length;s<c;++s)T(e,String(s))?o.push(h(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,r,n,i,!0))}),o}function h(t,e,r,n,i,o){var s,c,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?c=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),T(n,i)||(s="["+i+"]"),c||(t.seen.indexOf(u.value)<0?(c=g(r)?a(t,u.value,null):a(t,u.value,r-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),E(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function p(t,e,r){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function E(t){return void 0===t}function S(t){return _(t)&&"[object RegExp]"===j(t)}function _(t){return"object"==typeof t&&null!==t}function O(t){return _(t)&&"[object Date]"===j(t)}function x(t){return _(t)&&("[object Error]"===j(t)||t instanceof Error)}function A(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function j(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(t).replace(L,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),c=n[r];r<o;c=n[++r])g(c)||!_(c)?s+=" "+c:s+=" "+i(c);return s},e.deprecate=function(r,i){function o(){if(!s){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),s=!0}return r.apply(this,arguments)}if(E(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var s=!1;return o};var D,I={};e.debuglog=function(t){if(E(D)&&(D=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(D)){var r=n.pid;I[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=g,e.isNullOrUndefined=v,e.isNumber=m,e.isString=b,e.isSymbol=w,e.isUndefined=E,e.isRegExp=S,e.isObject=_,e.isDate=O,e.isError=x,e.isFunction=A,e.isPrimitive=k,e.isBuffer=r(58);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=r(20),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,r(6),r(2))},function(t,e,r){"use strict";(function(e){function r(t){return"/"===t.charAt(0)}function n(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&":"!==n.charAt(1));return Boolean(r[2]||i)}t.exports="win32"===e.platform?n:r,t.exports.posix=r,t.exports.win32=n}).call(e,r(2))},function(t,e,r){(function(e){function n(t,r){r||(r=o.getUserHome()),"-"===r&&(e.env.OLDPWD?r=e.env.OLDPWD:o.error("could not find previous directory"));try{var n=e.cwd();e.chdir(r),e.env.OLDPWD=n}catch(t){var s;try{i.statSync(r),s="not a directory: "+r}catch(t){s="no such file or directory: "+r}s&&o.error(s)}return""}var i=r(0),o=r(1);o.register("cd",n,{}),t.exports=n}).call(e,r(2))},function(t,e,r){(function(e){function n(t,r,n){a.existsSync(t)||f.error("copyFileSync: no such file or directory: "+t);var i="win32"===e.platform;try{if(n.update&&a.statSync(t).mtime<a.statSync(r).mtime)return}catch(t){}if(a.lstatSync(t).isSymbolicLink()&&!n.followsymlink){try{a.lstatSync(r),f.unlinkSync(r)}catch(t){}var o=a.readlinkSync(t);a.symlinkSync(o,r,i?"junction":null)}else{var s=f.buffer(),c=s.length,u=c,l=0,h=null,p=null;try{h=a.openSync(t,"r")}catch(e){f.error("copyFileSync: could not read src file ("+t+")")}try{p=a.openSync(r,"w")}catch(t){f.error("copyFileSync: could not write to dest file (code="+t.code+"):"+r)}for(;u===c;)u=a.readSync(h,s,0,c,l),a.writeSync(p,s,0,u),l+=u;a.closeSync(h),a.closeSync(p),a.chmodSync(r,a.statSync(t).mode)}}function i(t,r,o,c){if(c||(c={}),!(o>=f.config.maxdepth)){o++;var u="win32"===e.platform;try{var l=a.statSync(t);a.mkdirSync(r,l.mode)}catch(t){if("EEXIST"!==t.code)throw t}for(var h=a.readdirSync(t),p=0;p<h.length;p++){var d,y=t+"/"+h[p],g=r+"/"+h[p],v=a.lstatSync(y);if(c.followsymlink&&s(t,y))console.error("Cycle link found."),d=a.readlinkSync(y),a.symlinkSync(d,g,u?"junction":null);else if(v.isDirectory())i(y,g,o,c);else if(v.isSymbolicLink()&&!c.followsymlink){d=a.readlinkSync(y);try{a.lstatSync(g),f.unlinkSync(g)}catch(t){}a.symlinkSync(d,g,u?"junction":null)}else v.isSymbolicLink()&&c.followsymlink?(v=a.statSync(y),v.isDirectory()?i(y,g,o,c):n(y,g,c)):a.existsSync(g)&&c.no_force?f.log("skipping existing file: "+h[p]):n(y,g,c)}}}function o(t,e){var r=t[e];return t.slice(0,e).some(function(t){return u.basename(t)===u.basename(r)})}function s(t,e){if(a.lstatSync(e).isSymbolicLink()&&a.statSync(e).isDirectory()){var r=a.realpathSync(t),n=a.realpathSync(e);if(new RegExp(n).test(r))return!0}return!1}function c(t,e,r){t.followsymlink&&(t.noFollowsymlink=!1),t.recursive||t.noFollowsymlink||(t.followsymlink=!0),arguments.length<3?f.error("missing <source> and/or <dest>"):(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]);var s=a.existsSync(r),c=s&&a.statSync(r);return s&&c.isDirectory()||!(e.length>1)||f.error("dest is not a directory (too many sources)"),s&&c.isFile()&&t.no_force?new f.ShellString("","",0):(e.forEach(function(s,l){if(!a.existsSync(s))return""===s&&(s="''"),void f.error("no such file or directory: "+s,{continue:!0});var h=a.statSync(s);if(!t.noFollowsymlink&&h.isDirectory())if(t.recursive){var p=c&&c.isDirectory()?u.join(r,u.basename(s)):r;try{a.statSync(u.dirname(r)),i(s,p,0,{no_force:t.no_force,followsymlink:t.followsymlink})}catch(t){f.error("cannot create directory '"+r+"': No such file or directory")}}else f.error("omitting directory '"+s+"'",{continue:!0});else{var d=r;c&&c.isDirectory()&&(d=u.normalize(r+"/"+u.basename(s)));var y=a.existsSync(d);if(y&&o(e,l))return void(t.no_force||f.error("will not overwrite just-created '"+d+"' with '"+s+"'",{continue:!0}));if(y&&t.no_force)return;if(""===u.relative(s,d))return void f.error("'"+d+"' and '"+s+"' are the same file",{continue:!0});n(s,d,t)}}),new f.ShellString("",f.state.error,f.state.errorCode))}var a=r(0),u=r(3),f=r(1);f.register("cp",c,{cmdOptions:{f:"!no_force",n:"no_force",u:"update",R:"recursive",r:"recursive",L:"followsymlink",P:"noFollowsymlink"},wrapOutput:!1}),t.exports=c}).call(e,r(2))},function(t,e,r){function n(){return i.state.error}var i=r(1);t.exports=n},function(t,e,r){(function(e){function n(t){if(!t||!c.existsSync(t))return!1;if(!c.statSync(t).isDirectory())return!1;var e=t+"/"+o.randomFileName();try{return c.writeFileSync(e," "),o.unlinkSync(e),t}catch(t){return!1}}function i(){var t=o.state;return t.tempDir?t.tempDir:(t.tempDir=n(s.tmpdir&&s.tmpdir())||n(s.tmpDir&&s.tmpDir())||n(e.env.TMPDIR)||n(e.env.TEMP)||n(e.env.TMP)||n(e.env.Wimp$ScrapDir)||n("C:\\TEMP")||n("C:\\TMP")||n("\\TEMP")||n("\\TMP")||n("/tmp")||n("/var/tmp")||n("/usr/tmp")||n("."),t.tempDir)}var o=r(1),s=r(4),c=r(0);o.register("tempdir",i,{allowGlobbing:!1,wrapOutput:!1}),t.exports=i}).call(e,r(2))},function(t,e,r){(function(e){function n(){return i.resolve(e.cwd())}var i=r(3);r(1).register("pwd",n,{allowGlobbing:!1}),t.exports=n}).call(e,r(2))},function(t,e,r){(function(e){function n(t,r){function n(r,n,o){"win32"===e.platform&&(n=n.replace(/\\/g,"/")),t.long?(o=o||(t.link?s.statSync(r):s.lstatSync(r)),f.push(i(n,o))):f.push(n)}t.all_deprecated&&(c.log("ls: Option -a is deprecated. Use -A instead"),t.all=!0),r=r?[].slice.call(arguments,1):["."];var f=[];return r.forEach(function(e){var r;try{r=t.link?s.statSync(e):s.lstatSync(e)}catch(t){return void c.error("no such file or directory: "+e,2,{continue:!0})}r.isDirectory()&&!t.directory?t.recursive?a.sync(e+u,{dot:t.all,follow:t.link}).forEach(function(t){o.relative(e,t)&&n(t,o.relative(e,t))}):t.all?s.readdirSync(e).forEach(function(t){n(o.join(e,t),t)}):s.readdirSync(e).forEach(function(t){"."!==t[0]&&n(o.join(e,t),t)}):n(e,e,r)}),f}function i(t,e){return e.name=t,e.toString=function(){return[this.mode,this.nlink,this.uid,this.gid,this.size,this.mtime,this.name].join(" ")},e}var o=r(3),s=r(0),c=r(1),a=r(5),u=o.sep+"**";c.register("ls",n,{cmdOptions:{R:"recursive",A:"all",L:"link",a:"all_deprecated",d:"directory",l:"long"}}),t.exports=n}).call(e,r(2))},function(t,e,r){(function(e){function n(t,r,o){var s;s=l.readdirSync(t);for(var c=0;c<s.length;c++){var a=t+"/"+s[c];if(l.lstatSync(a).isDirectory())n(a,r);else if(r||i(a))try{f.unlinkSync(a)}catch(t){f.error("could not remove file (code "+t.code+"): "+a,{continue:!0})}}if(!o){var u;try{for(var h=Date.now();;)try{if(u=l.rmdirSync(t),l.existsSync(t))throw{code:"EAGAIN"};break}catch(t){if("win32"!==e.platform||"ENOTEMPTY"!==t.code&&"EBUSY"!==t.code&&"EPERM"!==t.code&&"EAGAIN"!==t.code){if("ENOENT"===t.code)break;throw t}if(Date.now()-h>1e3)throw t}}catch(e){f.error("could not remove directory (code "+e.code+"): "+t,{continue:!0})}return u}}function i(t){var e=!0;try{var r=l.openSync(t,"a");l.closeSync(r)}catch(t){e=!1}return e}function o(t,e){e.force||i(t)?f.unlinkSync(t):f.error("permission denied: "+t,{continue:!0})}function s(t,e){e.recursive?n(t,e.force):f.error("path is a directory",{continue:!0})}function c(t,e){var r;try{r=l.statSync(t)}catch(e){return void f.unlinkSync(t)}if(r.isFile())f.unlinkSync(t);else if(r.isDirectory())if("/"===t[t.length-1])if(e.recursive){n(t,e.force,!0)}else f.error("path is a directory",{continue:!0});else f.unlinkSync(t)}function a(t){f.unlinkSync(t)}function u(t,e){return e||f.error("no paths given"),e=[].slice.call(arguments,1),e.forEach(function(e){var r;try{var n="/"===e[e.length-1]?e.slice(0,-1):e;r=l.lstatSync(n)}catch(r){return void(t.force||f.error("no such file or directory: "+e,{continue:!0}))}r.isFile()?o(e,t):r.isDirectory()?s(e,t):r.isSymbolicLink()?c(e,t):r.isFIFO()&&a(e)}),""}var f=r(1),l=r(0);f.register("rm",u,{cmdOptions:{f:"force",r:"recursive",R:"recursive"}}),t.exports=u}).call(e,r(2))},function(t,e,r){(function(t){var n=r(1);r(61).forEach(function(t){r(62)("./"+t)}),e.exit=t.exit,e.error=r(13),e.ShellString=n.ShellString,e.env=t.env,e.config=n.config}).call(e,r(2))},function(t,e,r){(function(e){function n(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function i(t,e,r){if(h)return u(t,e,r);"function"==typeof e&&(r=e,e=null),u(t,e,function(i,o){n(i)?p.realpath(t,e,r):r(i,o)})}function o(t,e){if(h)return f(t,e);try{return f(t,e)}catch(r){if(n(r))return p.realpathSync(t,e);throw r}}function s(){a.realpath=i,a.realpathSync=o}function c(){a.realpath=u,a.realpathSync=f}t.exports=i,i.realpath=i,i.sync=o,i.realpathSync=o,i.monkeypatch=s,i.unmonkeypatch=c;var a=r(0),u=a.realpath,f=a.realpathSync,l=e.version,h=/^v[0-5]\./.test(l),p=r(54)}).call(e,r(2))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,c,a,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),r.apply(this,c)}else if(o(r))for(c=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,a=0;a<i;a++)u[a].apply(this,c);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s,c;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(c=s;c-- >0;)if(r[c]===e||r[c].listener&&r[c].listener===e){i=c;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){(function(t){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function o(t,e){return t.localeCompare(e)}function s(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(c))}function c(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new v(r,{dot:!0})}return{matcher:new v(t,{dot:!0}),gmatcher:e}}function a(e,r,i){if(i||(i={}),i.matchBase&&-1===r.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");r="**/"+r}e.silent=!!i.silent,e.pattern=r,e.strict=!1!==i.strict,e.realpath=!!i.realpath,e.realpathCache=i.realpathCache||Object.create(null),e.follow=!!i.follow,e.dot=!!i.dot,e.mark=!!i.mark,e.nodir=!!i.nodir,e.nodir&&(e.mark=!0),e.sync=!!i.sync,e.nounique=!!i.nounique,e.nonull=!!i.nonull,e.nosort=!!i.nosort,e.nocase=!!i.nocase,e.stat=!!i.stat,e.noprocess=!!i.noprocess,e.absolute=!!i.absolute,e.maxLength=i.maxLength||1/0,e.cache=i.cache||Object.create(null),e.statCache=i.statCache||Object.create(null),e.symlinks=i.symlinks||Object.create(null),s(e,i),e.changedCwd=!1;var o=t.cwd();n(i,"cwd")?(e.cwd=d.resolve(i.cwd),e.changedCwd=e.cwd!==o):e.cwd=o,e.root=i.root||d.resolve(e.cwd,"/"),e.root=d.resolve(e.root),"win32"===t.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=g(e.cwd)?e.cwd:l(e,e.cwd),"win32"===t.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,e.minimatch=new v(r,i),e.options=e.minimatch.options}function u(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,s=t.matches.length;n<s;n++){var c=t.matches[n];if(c&&0!==Object.keys(c).length){var a=Object.keys(c);e?r.push.apply(r,a):a.forEach(function(t){r[t]=!0})}else if(t.nonull){var u=t.minimatch.globSet[n];e?r.push(u):r[u]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(t.nocase?i:o)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[l(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r}))}t.ignore.length&&(r=r.filter(function(e){return!h(t,e)})),t.found=r}function f(t,e){var r=l(t,e),n=t.cache[r],i=e;if(n){var o="DIR"===n||Array.isArray(n),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var c=l(t,i);t.statCache[c]=t.statCache[r],t.cache[c]=t.cache[r]}}return i}function l(e,r){var n=r;return n="/"===r.charAt(0)?d.join(e.root,r):g(r)||""===r?r:e.changedCwd?d.resolve(e.cwd,r):d.resolve(r),"win32"===t.platform&&(n=n.replace(/\\/g,"/")),n}function h(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))})}function p(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))})}e.alphasort=o,e.alphasorti=i,e.setopts=a,e.ownProp=n,e.makeAbs=l,e.finish=u,e.mark=f,e.isIgnored=h,e.childrenIgnored=p;var d=r(3),y=r(7),g=r(10),v=y.Minimatch}).call(e,r(2))},function(t,e){function r(t,e){function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}if(t&&e)return r(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}t.exports=r},function(t,e,r){function n(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}var o=r(23);t.exports=o(n),t.exports.strict=o(i),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(t,e,r){function n(t,e){var r=i.readFromPipe();return e||r||i.error("no paths given"),e=[].slice.call(arguments,1),e.forEach(function(t){o.existsSync(t)?o.statSync(t).isDirectory()&&i.error(t+": Is a directory"):i.error("no such file or directory: "+t),r+=o.readFileSync(t,"utf8")}),r}var i=r(1),o=r(0);i.register("cat",n,{canReceivePipe:!0}),t.exports=n},function(t,e,r){function n(t,e,r){r||(t.length>0&&"-"===t.charAt(0)?[].unshift.call(arguments,""):i.error("You must specify a file.")),t=i.parseOptions(t,{R:"recursive",c:"changes",v:"verbose"}),r=[].slice.call(arguments,2);var n;return t.recursive?(n=[],r.forEach(function t(e){var r=o.lstatSync(e);r.isSymbolicLink()||(n.push(e),r.isDirectory()&&o.readdirSync(e).forEach(function(r){t(e+"/"+r)}))})):n=r,n.forEach(function(r){if(r=s.resolve(r),o.existsSync(r)||i.error("File not found: "+r),!t.recursive||!o.lstatSync(r).isSymbolicLink()){var n=o.statSync(r),a=n.isDirectory(),u=n.mode,f=u&c.TYPE_MASK,l=u;isNaN(parseInt(e,8))?e.split(",").forEach(function(e){var n=/([ugoa]*)([=\+-])([rwxXst]*)/i,s=n.exec(e);if(s){var h=s[1],p=s[2],d=s[3],y=-1!==h.indexOf("u")||"a"===h||""===h,g=-1!==h.indexOf("g")||"a"===h||""===h,v=-1!==h.indexOf("o")||"a"===h||""===h,m=-1!==d.indexOf("r"),b=-1!==d.indexOf("w"),w=-1!==d.indexOf("x"),E=-1!==d.indexOf("X"),S=-1!==d.indexOf("t"),_=-1!==d.indexOf("s");E&&a&&(w=!0);var O=0;switch(y&&(O|=(m?c.OWNER_READ:0)+(b?c.OWNER_WRITE:0)+(w?c.OWNER_EXEC:0)+(_?c.SETUID:0)),g&&(O|=(m?c.GROUP_READ:0)+(b?c.GROUP_WRITE:0)+(w?c.GROUP_EXEC:0)+(_?c.SETGID:0)),v&&(O|=(m?c.OTHER_READ:0)+(b?c.OTHER_WRITE:0)+(w?c.OTHER_EXEC:0)),S&&(O|=c.STICKY),p){case"+":l|=O;break;case"-":l&=~O;break;case"=":l=f+O,o.statSync(r).isDirectory()&&(l|=c.SETUID+c.SETGID&u);break;default:i.error("Could not recognize operator: `"+p+"`")}t.verbose&&console.log(r+" -> "+l.toString(8)),u!==l&&(!t.verbose&&t.changes&&console.log(r+" -> "+l.toString(8)),o.chmodSync(r,l),u=l)}else i.error("Invalid symbolic mode change: "+e)}):(l=f+parseInt(e,8),o.statSync(r).isDirectory()&&(l|=c.SETUID+c.SETGID&u),o.chmodSync(r,l))}}),""}var i=r(1),o=r(0),s=r(3),c=function(t){return{OTHER_EXEC:t.EXEC,OTHER_WRITE:t.WRITE,OTHER_READ:t.READ,GROUP_EXEC:t.EXEC<<3,GROUP_WRITE:t.WRITE<<3,GROUP_READ:t.READ<<3,OWNER_EXEC:t.EXEC<<6,OWNER_WRITE:t.WRITE<<6,OWNER_READ:t.READ<<6,STICKY:parseInt("01000",8),SETGID:parseInt("02000",8),SETUID:parseInt("04000",8),TYPE_MASK:parseInt("0770000",8)}}({EXEC:1,WRITE:2,READ:4});i.register("chmod",n,{}),t.exports=n},function(t,e,r){(function(t){function n(t){return/^[\-+]\d+$/.test(t)}function i(t){if(n(t)){if(Math.abs(t)<h.length+1)return/^-/.test(t)?Number(t)-1:Number(t);u.error(t+": directory stack index out of range")}else u.error(t+": invalid number")}function o(){return[t.cwd()].concat(h)}function s(t,e){n(t)&&(e=t,t=""),t=u.parseOptions(t,{n:"no-cd"});var r=o();if("+0"===e)return r;if(e)if(n(e)){var s=i(e);r=r.slice(s).concat(r.slice(0,s))}else t["no-cd"]?r.splice(1,0,e):r.unshift(e);else{if(!(r.length>1))return u.error("no other directory");r=r.splice(1,1).concat(r)}return t["no-cd"]?r=r.slice(1):(e=l.resolve(r.shift()),f("",e)),h=r,a("")}function c(t,e){if(n(t)&&(e=t,t=""),t=u.parseOptions(t,{n:"no-cd"}),!h.length)return u.error("directory stack empty");if(e=i(e||"+0"),t["no-cd"]||e>0||h.length+e===0)e=e>0?e-1:e,h.splice(e,1);else{var r=l.resolve(h.shift());f("",r)}return a("")}function a(t,e){if(n(t)&&(e=t,t=""),t=u.parseOptions(t,{c:"clear"}),t.clear)return h=[];var r=o();return e?(e=i(e),e<0&&(e=r.length+e),u.log(r[e]),r[e]):(u.log(r.join(" ")),r)}var u=r(1),f=r(11),l=r(3);u.register("dirs",a,{wrapOutput:!1}),u.register("pushd",s,{wrapOutput:!1}),u.register("popd",c,{wrapOutput:!1});var h=[];e.pushd=s,e.popd=c,e.dirs=a}).call(e,r(2))},function(t,e,r){function n(t,e){return e=[].slice.call(arguments,t?0:1),"-e"===e[0]&&e.shift(),console.log.apply(console,e),e.join(" ")}r(1).register("echo",n,{allowGlobbing:!1}),t.exports=n},function(t,e,r){(function(e){function n(t,r,n){function i(t){if(!r.silent&&f.existsSync(t)){var n,i;t===p?(n=m,i=e.stdout):(n=b,i=e.stderr);var o=f.readFileSync(t,"utf8");o.length<=n.length||(i.write(o.substr(n.length)),n=o)}}s.config.execPath||s.error("Unable to find a path to the node binary. Please manually set config.execPath");var o=c(),p=u.resolve(o+"/"+s.randomFileName()),d=u.resolve(o+"/"+s.randomFileName()),y=u.resolve(o+"/"+s.randomFileName()),g=u.resolve(o+"/"+s.randomFileName()),v=u.resolve(o+"/"+s.randomFileName());r=s.extend({silent:s.config.silent,cwd:a().toString(),env:e.env,maxBuffer:h},r);var m="",b="";f.existsSync(g)&&s.unlinkSync(g),f.existsSync(p)&&s.unlinkSync(p),f.existsSync(d)&&s.unlinkSync(d),f.existsSync(y)&&s.unlinkSync(y);var w,E=JSON.stringify(s.config.execPath)+" "+JSON.stringify(g);r.cwd=u.resolve(r.cwd);var S=JSON.stringify(r);if("function"==typeof l.execSync){w=["var child = require('child_process')","  , fs = require('fs');","var childProcess = child.exec("+JSON.stringify(t)+", "+S+", function(err) {","  var fname = "+JSON.stringify(y)+";","  if (!err) {",'    fs.writeFileSync(fname, "0");',"  } else if (err.code === undefined) {",'    fs.writeFileSync(fname, "1");',"  } else {","    fs.writeFileSync(fname, err.code.toString());","  }","});","var stdoutStream = fs.createWriteStream("+JSON.stringify(p)+");","var stderrStream = fs.createWriteStream("+JSON.stringify(d)+");","childProcess.stdout.pipe(stdoutStream, {end: false});","childProcess.stderr.pipe(stderrStream, {end: false});","childProcess.stdout.pipe(process.stdout);","childProcess.stderr.pipe(process.stderr);"].join("\n")+(n?"\nchildProcess.stdin.end("+JSON.stringify(n)+");\n":"\n")+["var stdoutEnded = false, stderrEnded = false;","function tryClosingStdout(){ if(stdoutEnded){ stdoutStream.end(); } }","function tryClosingStderr(){ if(stderrEnded){ stderrStream.end(); } }","childProcess.stdout.on('end', function(){ stdoutEnded = true; tryClosingStdout(); });","childProcess.stderr.on('end', function(){ stderrEnded = true; tryClosingStderr(); });"].join("\n"),f.writeFileSync(g,w),r.silent?r.stdio="ignore":r.stdio=[0,1,2];try{l.execSync(E,r)}catch(t){try{s.unlinkSync(g)}catch(t){}try{s.unlinkSync(p)}catch(t){}try{s.unlinkSync(d)}catch(t){}try{s.unlinkSync(y)}catch(t){}throw t}}else{for(t+=" > "+p+" 2> "+d,w=["var child = require('child_process')","  , fs = require('fs');","var childProcess = child.exec("+JSON.stringify(t)+", "+S+", function(err) {","  var fname = "+JSON.stringify(y)+";","  if (!err) {",'    fs.writeFileSync(fname, "0");',"  } else if (err.code === undefined) {",'    fs.writeFileSync(fname, "1");',"  } else {","    fs.writeFileSync(fname, err.code.toString());","  }","});"].join("\n")+(n?"\nchildProcess.stdin.end("+JSON.stringify(n)+");\n":"\n"),f.writeFileSync(g,w),l.exec(E,r);!f.existsSync(y);)i(p),f.writeFileSync(v,"a");for(;!f.existsSync(p);)i(p),f.writeFileSync(v,"a");for(;!f.existsSync(d);)i(d),f.writeFileSync(v,"a");try{s.unlinkSync(v)}catch(t){}}for(var _=parseInt("",10);isNaN(_);)_=parseInt(f.readFileSync(y,"utf8"),10);var O=f.readFileSync(p,"utf8"),x=f.readFileSync(d,"utf8");try{s.unlinkSync(g)}catch(t){}try{s.unlinkSync(p)}catch(t){}try{s.unlinkSync(d)}catch(t){}try{s.unlinkSync(y)}catch(t){}return 0!==_&&s.error("",_,{continue:!0}),s.ShellString(O,x,_)}function i(t,r,n,i){var o="",c="";r=s.extend({silent:s.config.silent,cwd:a().toString(),env:e.env,maxBuffer:h},r);var u=l.exec(t,r,function(t){i&&(t?void 0===t.code?i(1,o,c):i(t.code,o,c):i(0,o,c))});return n&&u.stdin.end(n),u.stdout.on("data",function(t){o+=t,r.silent||e.stdout.write(t)}),u.stderr.on("data",function(t){c+=t,r.silent||e.stderr.write(t)}),u}function o(t,e,r){e=e||{},t||s.error("must specify command");var o=s.readFromPipe();"function"==typeof e&&(r=e,e={async:!0}),"object"==typeof e&&"function"==typeof r&&(e.async=!0),e=s.extend({silent:s.config.silent,async:!1},e);try{return e.async?i(t,e,o,r):n(t,e,o)}catch(t){s.error("internal error")}}var s=r(1),c=r(14),a=r(15),u=r(3),f=r(0),l=r(0),h=20971520;s.register("exec",o,{unix:!1,canReceivePipe:!0,wrapOutput:!1}),t.exports=o}).call(e,r(2))},function(t,e,r){(function(e){function n(t,r){function n(t){"win32"===e.platform&&(t=t.replace(/\\/g,"/")),a.push(t)}r?"string"==typeof r&&(r=[].slice.call(arguments,1)):s.error("no path specified");var a=[];return r.forEach(function(t){var e;try{e=i.statSync(t)}catch(e){s.error("no such file or directory: "+t)}n(t),e.isDirectory()&&c({recursive:!0,all:!0},t).forEach(function(e){n(o.join(t,e))})}),a}var i=r(0),o=r(3),s=r(1),c=r(16);s.register("find",n,{}),t.exports=n}).call(e,r(2))},function(t,e,r){function n(t,e,r){var n=i.readFromPipe();r||n||i.error("no paths given",2),r=[].slice.call(arguments,2),n&&r.unshift("-");var s=[];return r.forEach(function(r){if(!o.existsSync(r)&&"-"!==r)return void i.error("no such file or directory: "+r,2,{continue:!0});var c="-"===r?n:o.readFileSync(r,"utf8"),a=c.split(/\r*\n/);t.nameOnly?c.match(e)&&s.push(r):a.forEach(function(r){var n=r.match(e);(t.inverse&&!n||!t.inverse&&n)&&s.push(r)})}),s.join("\n")+"\n"}var i=r(1),o=r(0);i.register("grep",n,{globStart:2,canReceivePipe:!0,cmdOptions:{v:"inverse",l:"nameOnly"}}),t.exports=n},function(t,e,r){function n(t,e){var r=o.buffer(),n=r.length,i=n,c=0,a=null;try{a=s.openSync(t,"r")}catch(e){o.error("cannot read file: "+t)}for(var u=0,f="";i===n&&u<e;){i=s.readSync(a,r,0,n,c);var l=r.toString("utf8",0,i);u+=l.split("\n").length-1,f+=l,c+=i}return s.closeSync(a),f}function i(t,e){var r=[],i=o.readFromPipe();e||i||o.error("no paths given");var c=1;!0===t.numLines?(c=2,t.numLines=Number(arguments[1])):!1===t.numLines&&(t.numLines=10),e=[].slice.call(arguments,c),i&&e.unshift("-");var a=!1;return e.forEach(function(e){if("-"!==e){if(!s.existsSync(e))return void o.error("no such file or directory: "+e,{continue:!0});if(s.statSync(e).isDirectory())return void o.error("error reading '"+e+"': Is a directory",{continue:!0})}var c;c="-"===e?i:t.numLines<0?s.readFileSync(e,"utf8"):n(e,t.numLines);var u=c.split("\n"),f=""===u[u.length-1];f&&u.pop(),a=f||t.numLines<u.length,r=r.concat(u.slice(0,t.numLines))}),a&&r.push(""),r.join("\n")}var o=r(1),s=r(0);o.register("head",i,{canReceivePipe:!0,cmdOptions:{n:"numLines"}}),t.exports=i},function(t,e,r){(function(e){function n(t,r,n){r&&n||s.error("Missing <source> and/or <dest>"),r=String(r);var c=o.normalize(r).replace(RegExp(o.sep+"$"),""),a=o.resolve(r)===c;if(n=o.resolve(e.cwd(),String(n)),i.existsSync(n)&&(t.force||s.error("Destination file exists",{continue:!0}),i.unlinkSync(n)),t.symlink){var u="win32"===e.platform,f=u?"file":null,l=a?c:o.resolve(e.cwd(),o.dirname(n),r);i.existsSync(l)?u&&i.statSync(l).isDirectory()&&(f="junction"):s.error("Source file does not exist",{continue:!0});try{i.symlinkSync("junction"===f?l:r,n,f)}catch(t){s.error(t.message)}}else{i.existsSync(r)||s.error("Source file does not exist",{continue:!0});try{i.linkSync(r,n)}catch(t){s.error(t.message)}}return""}var i=r(0),o=r(3),s=r(1);s.register("ln",n,{cmdOptions:{s:"symlink",f:"force"}}),t.exports=n}).call(e,r(2))},function(t,e,r){function n(t){var e=c.dirname(t);if(e===t&&o.error("dirname() failed: ["+t+"]"),s.existsSync(e))return void s.mkdirSync(t,parseInt("0777",8));n(e),s.mkdirSync(t,parseInt("0777",8))}function i(t,e){return e||o.error("no paths given"),"string"==typeof e&&(e=[].slice.call(arguments,1)),e.forEach(function(e){try{var r=s.lstatSync(e);return void(t.fullpath?r.isFile()&&o.error("cannot create directory "+e+": File exists",{continue:!0}):o.error("path already exists: "+e,{continue:!0}))}catch(t){}var i=c.dirname(e);if(!s.existsSync(i)&&!t.fullpath)return void o.error("no such file or directory: "+i,{continue:!0});try{t.fullpath?n(c.resolve(e)):s.mkdirSync(e,parseInt("0777",8))}catch(t){var a;if("EACCES"===t.code)a="Permission denied";else{if("ENOTDIR"!==t.code&&"ENOENT"!==t.code)throw t;a="Not a directory"}o.error("cannot create directory "+e+": "+a,{continue:!0})}}),""}var o=r(1),s=r(0),c=r(3);o.register("mkdir",i,{cmdOptions:{p:"fullpath"}}),t.exports=i},function(t,e,r){function n(t,e){var r=t[e];return t.slice(0,e).some(function(t){return s.basename(t)===s.basename(r)})}function i(t,e,r){arguments.length<3?c.error("missing <source> and/or <dest>"):arguments.length>3?(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]):"string"==typeof e?e=[e]:c.error("invalid arguments");var i=o.existsSync(r),f=i&&o.statSync(r);return i&&f.isDirectory()||!(e.length>1)||c.error("dest is not a directory (too many sources)"),i&&f.isFile()&&t.no_force&&c.error("dest file already exists: "+r),e.forEach(function(i,f){if(!o.existsSync(i))return void c.error("no such file or directory: "+i,{continue:!0});var l=r;if(o.existsSync(r)&&o.statSync(r).isDirectory()&&(l=s.normalize(r+"/"+s.basename(i))),o.existsSync(l)&&n(e,f))return void(t.no_force||c.error("will not overwrite just-created '"+l+"' with '"+i+"'",{continue:!0}));if(o.existsSync(l)&&t.no_force)return void c.error("dest file already exists: "+l,{continue:!0});if(s.resolve(i)===s.dirname(s.resolve(l)))return void c.error("cannot move to self: "+i,{continue:!0});try{o.renameSync(i,l)}catch(t){"EXDEV"===t.code&&(a("-r",i,l),u("-rf",i))}}),""}var o=r(0),s=r(3),c=r(1),a=r(12),u=r(17);c.register("mv",i,{cmdOptions:{f:"!no_force",n:"no_force"}}),t.exports=i},function(t,e){},function(t,e){},function(t,e,r){function n(t,e,r,n){var s=i.readFromPipe();"string"!=typeof r&&"function"!=typeof r&&("number"==typeof r?r=r.toString():i.error("invalid replacement string")),"string"==typeof e&&(e=RegExp(e)),n||s||i.error("no files given"),n=[].slice.call(arguments,3),s&&n.unshift("-");var c=[];return n.forEach(function(n){if(!o.existsSync(n)&&"-"!==n)return void i.error("no such file or directory: "+n,2,{continue:!0});var a="-"===n?s:o.readFileSync(n,"utf8"),u=a.split(/\r*\n/),f=u.map(function(t){return t.replace(e,r)}).join("\n");c.push(f),t.inplace&&o.writeFileSync(n,f,"utf8")}),c.join("\n")}var i=r(1),o=r(0);i.register("sed",n,{globStart:3,canReceivePipe:!0,cmdOptions:{i:"inplace"}}),t.exports=n},function(t,e,r){function n(t){if(!t){var e=[].slice.call(arguments,0);e.length<2&&i.error("must provide an argument"),t=e[1]}var r="+"===t[0];r&&(t="-"+t.slice(1)),t=i.parseOptions(t,{e:"fatal",v:"verbose",f:"noglob"}),r&&Object.keys(t).forEach(function(e){t[e]=!t[e]}),Object.keys(t).forEach(function(e){r!==t[e]&&(i.config[e]=t[e])})}var i=r(1);i.register("set",n,{allowGlobbing:!1,wrapOutput:!1}),t.exports=n},function(t,e,r){function n(t){var e=t.match(/^\s*(\d*)\s*(.*)$/);return{num:Number(e[1]),value:e[2]}}function i(t,e){var r=t.toLowerCase(),n=e.toLowerCase();return r===n?-1*t.localeCompare(e):r.localeCompare(n)}function o(t,e){var r=n(t),o=n(e);return r.hasOwnProperty("num")&&o.hasOwnProperty("num")&&r.num!==o.num?r.num-o.num:i(r.value,o.value)}function s(t,e){var r=c.readFromPipe();e||r||c.error("no files given"),e=[].slice.call(arguments,1),r&&e.unshift("-");var n=[];e.forEach(function(t){if("-"!==t){if(!a.existsSync(t))return void c.error("no such file or directory: "+t,{continue:!0});if(a.statSync(t).isDirectory())return void c.error("read failed: "+t+": Is a directory",{continue:!0})}var e="-"===t?r:a.readFileSync(t,"utf8");n=n.concat(e.trimRight().split(/\r*\n/))});var s;return s=n.sort(t.numerical?o:i),t.reverse&&(s=s.reverse()),s.join("\n")+"\n"}var c=r(1),a=r(0);c.register("sort",s,{canReceivePipe:!0,cmdOptions:{r:"reverse",n:"numerical"}}),t.exports=s},function(t,e,r){function n(t,e){var r=[],n=i.readFromPipe();e||n||i.error("no paths given");var s=1;!0===t.numLines?(s=2,t.numLines=Number(arguments[1])):!1===t.numLines&&(t.numLines=10),t.numLines=-1*Math.abs(t.numLines),e=[].slice.call(arguments,s),n&&e.unshift("-");var c=!1;return e.forEach(function(e){if("-"!==e){if(!o.existsSync(e))return void i.error("no such file or directory: "+e,{continue:!0});if(o.statSync(e).isDirectory())return void i.error("error reading '"+e+"': Is a directory",{continue:!0})}var s="-"===e?n:o.readFileSync(e,"utf8"),a=s.split("\n");""===a[a.length-1]?(a.pop(),c=!0):c=!1,r=r.concat(a.slice(t.numLines))}),c&&r.push(""),r.join("\n")}var i=r(1),o=r(0);i.register("tail",n,{canReceivePipe:!0,cmdOptions:{n:"numLines"}}),t.exports=n},function(t,e,r){function n(t,e){e||i.error("no path given");var r=!1;if(Object.keys(t).forEach(function(e){!0===t[e]&&(r=!0)}),r||i.error("could not interpret expression"),t.link)try{return o.lstatSync(e).isSymbolicLink()}catch(t){return!1}if(!o.existsSync(e))return!1;if(t.exists)return!0;var n=o.statSync(e);return t.block?n.isBlockDevice():t.character?n.isCharacterDevice():t.directory?n.isDirectory():t.file?n.isFile():t.pipe?n.isFIFO():!!t.socket&&n.isSocket()}var i=r(1),o=r(0);i.register("test",n,{cmdOptions:{b:"block",c:"character",d:"directory",e:"exists",f:"file",L:"link",p:"pipe",S:"socket"},wrapOutput:!1,allowGlobbing:!1}),t.exports=n},function(t,e,r){function n(t,e){e||i.error("wrong arguments"),o.existsSync(s.dirname(e))||i.error("no such file or directory: "+s.dirname(e));try{return o.writeFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(t){i.error("could not write to file (code "+t.code+"): "+e,{continue:!0})}}var i=r(1),o=r(0),s=r(3);i.register("to",n,{pipeOnly:!0,wrapOutput:!1}),t.exports=n},function(t,e,r){function n(t,e){e||i.error("wrong arguments"),o.existsSync(s.dirname(e))||i.error("no such file or directory: "+s.dirname(e));try{return o.appendFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(t){i.error("could not append to file (code "+t.code+"): "+e,{continue:!0})}}var i=r(1),o=r(0),s=r(3);i.register("toEnd",n,{pipeOnly:!0,wrapOutput:!1}),t.exports=n},function(t,e,r){function n(t,e){return e?"string"==typeof e?e=[].slice.call(arguments,1):s.error("file arg should be a string file path or an Array of string file paths"):s.error("no files given"),e.forEach(function(e){i(t,e)}),""}function i(t,e){var r=o(e);if((!r||!r.isDirectory())&&(r||!t.no_create)){c.closeSync(c.openSync(e,"a"));var n=new Date,i=t.date||n,a=t.date||n;if(t.reference){var u=o(t.reference);u||s.error("failed to get attributess of "+t.reference),i=u.mtime,a=u.atime}else t.date&&(i=t.date,a=t.date);t.atime_only&&t.mtime_only||(t.atime_only?i=r.mtime:t.mtime_only&&(a=r.atime)),c.utimesSync(e,a,i)}}function o(t){try{return c.statSync(t)}catch(t){return null}}var s=r(1),c=r(0);s.register("touch",n,{cmdOptions:{a:"atime_only",c:"no_create",d:"date",m:"mtime_only",r:"reference"}}),t.exports=n},function(t,e,r){function n(t,e){var r=""+e;return r.length<t&&(r=Array(t-r.length+1).join(" ")+r),r}function i(t,e,r){var i=o.readFromPipe();i||(e||o.error("no input given"),s.existsSync(e)?s.statSync(e).isDirectory()&&o.error("error reading '"+e+"'"):o.error(e+": No such file or directory")),r&&s.existsSync(r)&&s.statSync(r).isDirectory()&&o.error(r+": Is a directory");var c=(e?s.readFileSync(e,"utf8"):i).trimRight().split(/\r*\n/),a=function(e,r){return t.ignoreCase?e.toLocaleLowerCase().localeCompare(r.toLocaleLowerCase()):e.localeCompare(r)},u=c.reduceRight(function(t,e){return 0===t.length?[{count:1,ln:e}]:0===a(t[0].ln,e)?[{count:t[0].count+1,ln:e}].concat(t.slice(1)):[{count:1,ln:e}].concat(t)},[]).filter(function(e){return!t.duplicates||e.count>1}).map(function(e){return(t.count?n(7,e.count)+" ":"")+e.ln}).join("\n")+"\n";return r?(new o.ShellString(u).to(r),""):u}var o=r(1),s=r(0);o.register("uniq",i,{canReceivePipe:!0,cmdOptions:{i:"ignoreCase",c:"count",d:"duplicates"}}),t.exports=i},function(t,e,r){(function(e){function n(t){return t?t.split(a.delimiter):[]}function i(t){return c.existsSync(t)&&!c.statSync(t).isDirectory()}function o(t,r){r||s.error("must specify command");var o="win32"===e.platform,c=e.env.path||e.env.Path||e.env.PATH,f=n(c),l=[];if(-1===r.indexOf("/")){var h=[""];if(o){h=n((e.env.PATHEXT||u).toUpperCase())}for(var p=0;p<f.length&&(!(l.length>0)||t.all);p++){var d=a.resolve(f[p],r);o&&(d=d.toUpperCase());var y=d.match(/\.[^<>:"\/\|?*.]+$/);if(y&&h.indexOf(y[0])>=0){if(i(d)){l.push(d);break}}else for(var g=0;g<h.length;g++){var v=h[g],m=d+v;if(i(m)){l.push(m);break}}}}else i(r)&&l.push(a.resolve(r));return l.length>0?t.all?l:l[0]:t.all?[]:null}var s=r(1),c=r(0),a=r(3);s.register("which",o,{allowGlobbing:!1,cmdOptions:{a:"all"}});var u=".com;.exe;.bat;.cmd;.vbs;.vbe;.js;.jse;.wsf;.wsh";t.exports=o}).call(e,r(2))},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(0),u=r(49),f=n(u),l=r(18),h=n(l),p=r(63),d=n(p),y=r(21),g=r(64).path,v=r(65).path,m={livepeer:g,ffmpeg:v},b=function(t){return m[t].replace("bin","node_modules/"+t+"-static/bin").replace("app.asar","app.asar.unpacked")},w=function(t){function e(t){var r=t.config,n=t.log;i(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return s.proc={ffmpegProc:null,livepeerProc:null},s.userStopFFmpeg=!1,s.log=n,s.config=r,"development"===r.env?(s.path.livepeerPath=m.livepeer,s.path.ffmpegPath=m.ffmpeg):(s.path.livepeerPath=b("livepeer"),s.path.ffmpegPath=b("ffmpeg")),s}return s(e,t),c(e,[{key:"startLivepeer",value:function(){var t=this.config.httpPort,e=this;(0,f.default)("http://localhost:"+t,function(t){if(null==t)e.proc.livepeerProc="local",e.log.info("LivePeer is already running.");else if(null==e.proc.livepeerProc){var r=["-monitor","-monitorhost","http://viz.livepeer.org:8081/metrics"],n=(0,a.spawn)(e.path.livepeerPath,r);e.proc.livepeerProc=n,n.stdout.on("data",function(t){e.log.info("stdout: "+t)}),n.stderr.on("data",function(t){e.log.info("stderr: "+t)}),n.on("close",function(t){e.log.info("livepeer child process exited with code "+t),e.emit("notifier",{error:2})}),e.log.info("Livepeer running on port 8935")}})}},{key:"stopLivepeer",value:function(){this.log.info("Stopping Livepeer");var t=this.proc.livepeerProc;null!=t&&"local"!==t&&(this.log.info("Sending SIGTERM to "+t.pid),this.proc.livepeerProc.kill(),this.proc.livepeerProc=null),resolve("LivePeer Closed")}},{key:"resetLivepeer",value:function(){var t=this,e=this.config.homeDir;this.log.info("ResetLivepeer - Deleting Livepeer datadir"),(0,d.default)(e+"/Livepeer/livepeernet/",function(){t.log.info("Removed livepeer dir")}),h.default.mkdir("-p",e+"/Livepeer/livepeernet/"),this.stopLivepeer();var r=this.startLivepeer();if(null!=r)return r}},{key:"getHlsStrmID",value:function(){var t=this,e=this;(0,f.default)("http://localhost:"+httpPort+"/streamID",function(r,n,i){if(""===i)return void setTimeout(function(){return e.getHlsStrmID()},1e3);t.emit("broadcast",{hlsStrmID:i}),resolve({hlsStrmID:i})})}},{key:"getVideo",value:function(t){(0,f.default)("http://localhost:"+httpPort+"/stream/"+t+".m3u8",function(e,r,n){if(!n)return void reject({error:1});resolve({strmID:t})})}},{key:"startFFMpeg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this;return new Promise(function(r,n){var i=e.config,o=i.frameConfig,s=i.rtmpPort;e.log.info("Launching FFmpeg with config: "+t),e.userStopFFmpeg=!1;var c=o[t].framerate,u=o[t].keyint,f=["-f","avfoundation","-framerate",c,"-pixel_format","uyvy422","-i","0:0","-vcodec","libx264","-tune","zerolatency","-b","900k","-x264-params","keyint="+u+":min-keyint="+u,"-acodec","aac","-ac","1","-b:a","96k","-f","flv","rtmp://localhost:"+s+"/movie"],l=(0,a.spawn)(e.path.ffmpegPath,f);e.proc.ffmpegProc=l,r({success:"ok"}),l.stdout.on("data",function(t){e.log.info("stdout: "+t)}),l.stderr.on("data",function(t){e.log.info("stderr: "+t)}),l.on("close",function(r,i){if(e.userStopFFmpeg)return e.log.info("ffmpeg - terminated by the user (stopFFMpeg)");e.log.info("ffmpeg ~ "+f.join(" ")),e.log.info("ffmpeg "+r+" ~ child process terminated due to receipt of signal "+i),t<o.length-1?e.startFFMpeg(t+1):(e.emit("notifier",{error:3}),n({message:"FFMpeg process closed"}))})})}},{key:"stopFFMpeg",value:function(){var t=this;return new Promise(function(e){var r=t.proc.ffmpegProc;null!=r&&(t.log.info("Killing FFMPeg pid: "+r.pid),t.userStopFFmpeg=!0,t.proc.ffmpegProc.kill(),t.proc.ffmpegProc=null),e("FFMpeg Closed")})}}]),e}(y);t.exports=w},function(e,r){e.exports=t},function(t,e,r){"use strict";(function(t){function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,r,n):"string"==typeof e?f(t,e,r):p(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e,r,n){return c(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function u(t,e){if(c(e),t=i(t,e<0?0:0|d(e)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,r);t=i(t,n);var s=t.write(e,r);return s!==n&&(t=t.slice(0,s)),t}function l(t,e){var r=e.length<0?0:0|d(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function h(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=l(t,e),t}function p(t,e){if(o.isBuffer(e)){var r=0|d(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||J(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&K(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),o.alloc(+t)}function g(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return j(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,c=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,c/=2,a/=2,r/=2}var u;if(i){var f=-1;for(u=r;u<c;u++)if(o(t,u)===o(e,-1===f?0:u-f)){if(-1===f&&(f=u),u-f+1===a)return f*s}else-1!==f&&(u-=u-f),f=-1}else for(r+a>c&&(r=c-a),u=r;u>=0;u--){for(var l=!0,h=0;h<a;h++)if(o(t,u+h)!==o(e,h)){l=!1;break}if(l)return u}return-1}function E(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var c=parseInt(e.substr(2*s,2),16);if(isNaN(c))return s;t[r+s]=c}return s}function S(t,e,r,n){return H(z(e,t.length-r),t,r,n)}function _(t,e,r,n){return H($(e),t,r,n)}function O(t,e,r,n){return _(t,e,r,n)}function x(t,e,r,n){return H(X(e),t,r,n)}function A(t,e,r,n){return H(W(e,t.length-r),t,r,n)}function k(t,e,r){return 0===e&&r===t.length?V.fromByteArray(t):V.fromByteArray(t.slice(e,r))}function j(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=r){var a,u,f,l;switch(c){case 1:o<128&&(s=o);break;case 2:a=t[i+1],128==(192&a)&&(l=(31&o)<<6|63&a)>127&&(s=l);break;case 3:a=t[i+1],u=t[i+2],128==(192&a)&&128==(192&u)&&(l=(15&o)<<12|(63&a)<<6|63&u)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:a=t[i+1],u=t[i+2],f=t[i+3],128==(192&a)&&128==(192&u)&&128==(192&f)&&(l=(15&o)<<18|(63&a)<<12|(63&u)<<6|63&f)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=c}return R(n)}function R(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return r}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=q(t[o]);return i}function D(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function M(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,i){return i||M(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,i){return i||M(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,r,n,52,8),r+8}function Y(t){if(t=G(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function X(t){return V.toByteArray(Y(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var V=r(51),Q=r(52),K=r(53);e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=n(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,r){return s(null,t,e,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,r){return a(null,t,e,r)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!K(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,r,n,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var s=i-n,c=r-e,a=Math.min(s,c),u=this.slice(n,i),f=t.slice(e,r),l=0;l<a;++l)if(u[l]!==f[l]){s=u[l],c=f[l];break}return s<c?-1:c<s?1:0},o.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return O(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var i=e-t;n=new o(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},o.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},o.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){N(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){N(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var o=0,s=1,c=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===c&&0!==this[e+o-1]&&(c=1),this[e+o]=(t/s>>0)-c&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var o=r-1,s=1,c=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===c&&0!==this[e+o+1]&&(c=1),this[e+o]=(t/s>>0)-c&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+r];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var c=o.isBuffer(t)?t:z(new o(t,n).toString()),a=c.length;for(s=0;s<r-e;++s)this[s+e]=c[s%a]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,r(6))},function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-n(t)}function o(t){var e,r,i,o,s,c=t.length;o=n(t),s=new l(3*c/4-o),r=o>0?c-4:c;var a=0;for(e=0;e<r;e+=4)i=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],s[a++]=i>>16&255,s[a++]=i>>8&255,s[a++]=255&i;return 2===o?(i=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,s[a++]=255&i):1===o&&(i=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,s[a++]=i>>8&255,s[a++]=255&i),s}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function c(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(s(n));return i.join("")}function a(t){for(var e,r=t.length,n=r%3,i="",o=[],s=0,a=r-n;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));return 1===n?(e=t[r-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=a;for(var u=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=h.length;p<d;++p)u[p]=h[p],f[h.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,c=8*i-n-1,a=(1<<c)-1,u=a>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=c;f>0;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-u;else{if(o===a)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,c,a,u=8*o-i-1,f=(1<<u)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),e+=s+l>=1?h/a:h*Math.pow(2,1-l),e*a>=2&&(s++,a/=2),s+l>=f?(c=0,s=f):s+l>=1?(c=(e*a-1)*Math.pow(2,i),s+=l):(c=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&c,p+=d,c/=256,i-=8);for(s=s<<i|c,u+=i;u>0;t[r+p]=255&s,p+=d,s/=256,u-=8);t[r+p-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t){function n(){function e(t){t&&(i.message=t.message,t=i,r(t))}function r(e){if(e){if(t.throwDeprecation)throw e;if(!t.noDeprecation){var r="fs: missing callback "+(e.stack||e.message);t.traceDeprecation?console.trace(r):console.error(r)}}}var n;if(a){var i=new Error;n=e}else n=r;return n}function i(t){return"function"==typeof t?t:n()}var o=r(3),s="win32"===t.platform,c=r(0),a=t.env.NODE_DEBUG&&/fs/.test(t.env.NODE_DEBUG);o.normalize;if(s)var u=/(.*?)(?:[\/\\]+|$)/g;else var u=/(.*?)(?:[\/]+|$)/g;if(s)var f=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else var f=/^[\/]*/;e.realpathSync=function(t,e){function r(){var e=f.exec(t);n=e[0].length,i=e[0],a=e[0],l="",s&&!d[a]&&(c.lstatSync(a),d[a]=!0)}if(t=o.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var n,i,a,l,h=t,p={},d={};for(r();n<t.length;){u.lastIndex=n;var y=u.exec(t);if(l=i,i+=y[0],a=l+y[1],n=u.lastIndex,!(d[a]||e&&e[a]===a)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,a))g=e[a];else{var v=c.lstatSync(a);if(!v.isSymbolicLink()){d[a]=!0,e&&(e[a]=a);continue}var m=null;if(!s){var b=v.dev.toString(32)+":"+v.ino.toString(32);p.hasOwnProperty(b)&&(m=p[b])}null===m&&(c.statSync(a),m=c.readlinkSync(a)),g=o.resolve(l,m),e&&(e[a]=g),s||(p[b]=m)}t=o.resolve(g,t.slice(n)),r()}}return e&&(e[h]=t),t},e.realpath=function(e,r,n){function a(){var r=f.exec(e);y=r[0].length,g=r[0],v=r[0],m="",s&&!E[v]?c.lstat(v,function(t){if(t)return n(t);E[v]=!0,l()}):t.nextTick(l)}function l(){if(y>=e.length)return r&&(r[b]=e),n(null,e);u.lastIndex=y;var i=u.exec(e);return m=g,g+=i[0],v=m+i[1],y=u.lastIndex,E[v]||r&&r[v]===v?t.nextTick(l):r&&Object.prototype.hasOwnProperty.call(r,v)?d(r[v]):c.lstat(v,h)}function h(e,i){if(e)return n(e);if(!i.isSymbolicLink())return E[v]=!0,r&&(r[v]=v),t.nextTick(l);if(!s){var o=i.dev.toString(32)+":"+i.ino.toString(32);if(w.hasOwnProperty(o))return p(null,w[o],v)}c.stat(v,function(t){if(t)return n(t);c.readlink(v,function(t,e){s||(w[o]=e),p(t,e)})})}function p(t,e,i){if(t)return n(t);var s=o.resolve(m,e);r&&(r[i]=s),d(s)}function d(t){e=o.resolve(t,e.slice(y)),a()}if("function"!=typeof n&&(n=i(r),r=null),e=o.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return t.nextTick(n.bind(null,null,r[e]));var y,g,v,m,b=e,w={},E={};a()}}).call(e,r(2))},function(t,e,r){function n(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function i(t){return t.split("\\\\").join(y).split("\\{").join(g).split("\\}").join(v).split("\\,").join(m).split("\\.").join(b)}function o(t){return t.split(y).join("\\").split(g).join("{").split(v).join("}").split(m).join(",").split(b).join(".")}function s(t){if(!t)return[""];var e=[],r=d("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,c=n.split(",");c[c.length-1]+="{"+i+"}";var a=s(o);return o.length&&(c[c.length-1]+=a.shift(),c.push.apply(c,a)),e.push.apply(e,c),e}function c(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),h(i(t),!0).map(o)):[]}function a(t){return"{"+t+"}"}function u(t){return/^-?0\d/.test(t)}function f(t,e){return t<=e}function l(t,e){return t>=e}function h(t,e){var r=[],i=d("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),y=o||c,g=i.body.indexOf(",")>=0;if(!y&&!g)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+v+i.post,h(t)):[t];var m;if(y)m=i.body.split(/\.\./);else if(m=s(i.body),1===m.length&&(m=h(m[0],!1).map(a),1===m.length)){var b=i.post.length?h(i.post,!1):[""];return b.map(function(t){return i.pre+m[0]+t})}var w,E=i.pre,b=i.post.length?h(i.post,!1):[""];if(y){var S=n(m[0]),_=n(m[1]),O=Math.max(m[0].length,m[1].length),x=3==m.length?Math.abs(n(m[2])):1,A=f;_<S&&(x*=-1,A=l);var k=m.some(u);w=[];for(var j=S;A(j,_);j+=x){var R;if(c)"\\"===(R=String.fromCharCode(j))&&(R="");else if(R=String(j),k){var P=O-R.length;if(P>0){var T=new Array(P+1).join("0");R=j<0?"-"+T+R.slice(1):T+R}}w.push(R)}}else w=p(m,function(t){return h(t,!1)});for(var L=0;L<w.length;L++)for(var D=0;D<b.length;D++){var I=E+w[L]+b[D];(!e||y||I)&&r.push(I)}return r}var p=r(56),d=r(57);t.exports=c;var y="\0SLASH"+Math.random()+"\0",g="\0OPEN"+Math.random()+"\0",v="\0CLOSE"+Math.random()+"\0",m="\0COMMA"+Math.random()+"\0",b="\0PERIOD"+Math.random()+"\0"},function(t,e){t.exports=function(t,e){for(var n=[],i=0;i<t.length;i++){var o=e(t[i],i);r(o)?n.push.apply(n,o):n.push(o)}return n};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e,r){t instanceof RegExp&&(t=i(t,r)),e instanceof RegExp&&(e=i(e,r));var n=o(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function i(t,e){var r=e.match(t);return r?r[0]:null}function o(t,e,r){var n,i,o,s,c,a=r.indexOf(t),u=r.indexOf(e,a+1),f=a;if(a>=0&&u>0){for(n=[],o=r.length;f>=0&&!c;)f==a?(n.push(f),a=r.indexOf(t,f+1)):1==n.length?c=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=r.indexOf(e,f+1)),f=a<u&&a>=0?a:u;n.length&&(c=[o,s])}return c}t.exports=n,n.range=o},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){(function(e){function n(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new i(t,e).found}function i(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof i))return new i(t,e);if(h(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}t.exports=n,n.GlobSync=i;var o=r(0),s=r(19),c=r(7),a=(c.Minimatch,r(5).Glob,r(9),r(3)),u=r(8),f=r(10),l=r(22),h=(l.alphasort,l.alphasorti,l.setopts),p=l.ownProp,d=l.childrenIgnored,y=l.isIgnored;i.prototype._finish=function(){if(u(this instanceof i),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var o=s.realpathSync(i,t.realpathCache);n[o]=!0}catch(e){if("stat"!==e.syscall)throw e;n[t._makeAbs(i)]=!0}})}l.finish(this)},i.prototype._process=function(t,e,r){u(this instanceof i);for(var n=0;"string"==typeof t[n];)n++;var o;switch(n){case t.length:return void this._processSimple(t.join("/"),e);case 0:o=null;break;default:o=t.slice(0,n).join("/")}var s,a=t.slice(n);null===o?s=".":f(o)||f(t.join("/"))?(o&&f(o)||(o="/"+o),s=o):s=o;var l=this._makeAbs(s);if(!d(this,s)){a[0]===c.GLOBSTAR?this._processGlobStar(o,s,l,a,e,r):this._processReaddir(o,s,l,a,e,r)}},i.prototype._processReaddir=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){for(var c=n[0],u=!!this.minimatch.negate,f=c._glob,l=this.dot||"."===f.charAt(0),h=[],p=0;p<s.length;p++){var d=s[p];if("."!==d.charAt(0)||l){var y;y=u&&!t?!d.match(c):d.match(c),y&&h.push(d)}}var g=h.length;if(0!==g)if(1!==n.length||this.mark||this.stat){n.shift();for(var p=0;p<g;p++){var v,d=h[p];v=t?[t,d]:[d],this._process(v.concat(n),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<g;p++){var d=h[p];t&&(d="/"!==t.slice(-1)?t+"/"+d:t+d),"/"!==d.charAt(0)||this.nomount||(d=a.join(this.root,d)),this._emitMatch(i,d)}}}},i.prototype._emitMatch=function(t,e){if(!y(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},i.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=o.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},i.prototype._readdir=function(t,e){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t);if(p(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,o.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},i.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},i.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},i.prototype._processGlobStar=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){var c=n.slice(1),a=t?[t]:[],u=a.concat(c);this._process(u,i,!1);var f=s.length;if(!this.symlinks[r]||!o)for(var l=0;l<f;l++){var h=s[l];if("."!==h.charAt(0)||this.dot){var p=a.concat(s[l],c);this._process(p,i,!0);var d=a.concat(s[l],n);this._process(d,i,!0)}}}},i.prototype._processSimple=function(t,r){var n=this._stat(t);if(this.matches[r]||(this.matches[r]=Object.create(null)),n){if(t&&f(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),i&&(t+="/"))}"win32"===e.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(r,t)}},i.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&p(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var s;try{s=o.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=o.statSync(e)}catch(t){i=s}else i=s}this.statCache[e]=i;var n=!0;return i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},i.prototype._mark=function(t){return l.mark(this,t)},i.prototype._makeAbs=function(t){return l.makeAbs(this,t)}}).call(e,r(2))},function(t,e,r){(function(e){function n(t,e){return c[t]?(c[t].push(e),null):(c[t]=[e],i(t))}function i(t){return a(function r(){var n=c[t],i=n.length,s=o(arguments);try{for(var a=0;a<i;a++)n[a].apply(null,s)}finally{n.length>i?(n.splice(0,i),e.nextTick(function(){r.apply(null,s)})):delete c[t]}})}function o(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}var s=r(23),c=Object.create(null),a=r(24);t.exports=s(n)}).call(e,r(2))},function(t,e){t.exports=["cat","cd","chmod","cp","dirs","echo","exec","find","grep","head","ln","ls","mkdir","mv","pwd","rm","sed","set","sort","tail","tempdir","test","to","toEnd","touch","uniq","which"]},function(t,e,r){function n(t){return r(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./cat":25,"./cat.js":25,"./cd":11,"./cd.js":11,"./chmod":26,"./chmod.js":26,"./common":1,"./common.js":1,"./cp":12,"./cp.js":12,"./dirs":27,"./dirs.js":27,"./echo":28,"./echo.js":28,"./error":13,"./error.js":13,"./exec":29,"./exec.js":29,"./find":30,"./find.js":30,"./grep":31,"./grep.js":31,"./head":32,"./head.js":32,"./ln":33,"./ln.js":33,"./ls":16,"./ls.js":16,"./mkdir":34,"./mkdir.js":34,"./mv":35,"./mv.js":35,"./popd":36,"./popd.js":36,"./pushd":37,"./pushd.js":37,"./pwd":15,"./pwd.js":15,"./rm":17,"./rm.js":17,"./sed":38,"./sed.js":38,"./set":39,"./set.js":39,"./sort":40,"./sort.js":40,"./tail":41,"./tail.js":41,"./tempdir":14,"./tempdir.js":14,"./test":42,"./test.js":42,"./to":43,"./to.js":43,"./toEnd":44,"./toEnd.js":44,"./touch":45,"./touch.js":45,"./uniq":46,"./uniq.js":46,"./which":47,"./which.js":47};n.keys=function(){return Object.keys(o)},n.resolve=i,t.exports=n,n.id=62},function(t,e,r){(function(e){function n(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(e){t[e]=t[e]||y[e],e+="Sync",t[e]=t[e]||y[e]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),t.disableGlob=t.disableGlob||!1,t.glob=t.glob||v}function i(t,e,r){function i(t){a=a||t,0==--u&&r(a)}function s(t,n){return t?r(t):0===(u=n.length)?r():void n.forEach(function(t){o(t,e,function r(n){if(n){if(("EBUSY"===n.code||"ENOTEMPTY"===n.code||"EPERM"===n.code)&&c<e.maxBusyTries){c++;var s=100*c;return setTimeout(function(){o(t,e,r)},s)}if("EMFILE"===n.code&&m<e.emfileWait)return setTimeout(function(){o(t,e,r)},m++);"ENOENT"===n.code&&(n=null)}m=0,i(n)})})}"function"==typeof e&&(r=e,e={}),p(t,"rimraf: missing path"),p.equal(typeof t,"string","rimraf: path should be a string"),p.equal(typeof r,"function","rimraf: callback function required"),p(e,"rimraf: invalid options argument provided"),p.equal(typeof e,"object","rimraf: options should be object"),n(e);var c=0,a=null,u=0;if(e.disableGlob||!g.hasMagic(t))return s(null,[t]);e.lstat(t,function(r,n){if(!r)return s(null,[t]);g(t,e.glob,s)})}function o(t,e,r){p(t),p(e),p("function"==typeof r),e.lstat(t,function(n,i){return n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&b&&s(t,e,n,r),i&&i.isDirectory()?a(t,e,n,r):void e.unlink(t,function(n){if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return b?s(t,e,n,r):a(t,e,n,r);if("EISDIR"===n.code)return a(t,e,n,r)}return r(n)}))})}function s(t,e,r,n){p(t),p(e),p("function"==typeof n),r&&p(r instanceof Error),e.chmod(t,666,function(i){i?n("ENOENT"===i.code?null:r):e.stat(t,function(i,o){i?n("ENOENT"===i.code?null:r):o.isDirectory()?a(t,e,r,n):e.unlink(t,n)})})}function c(t,e,r){p(t),p(e),r&&p(r instanceof Error);try{e.chmodSync(t,666)}catch(t){if("ENOENT"===t.code)return;throw r}try{var n=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}n.isDirectory()?l(t,e,r):e.unlinkSync(t)}function a(t,e,r,n){p(t),p(e),r&&p(r instanceof Error),p("function"==typeof n),e.rmdir(t,function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?n(i&&"ENOTDIR"===i.code?r:i):u(t,e,n)})}function u(t,e,r){p(t),p(e),p("function"==typeof r),e.readdir(t,function(n,o){if(n)return r(n);var s=o.length;if(0===s)return e.rmdir(t,r);var c;o.forEach(function(n){i(d.join(t,n),e,function(n){if(!c)return n?r(c=n):void(0==--s&&e.rmdir(t,r))})})})}function f(t,e){e=e||{},n(e),p(t,"rimraf: missing path"),p.equal(typeof t,"string","rimraf: path should be a string"),p(e,"rimraf: missing options"),p.equal(typeof e,"object","rimraf: options should be object");var r;if(e.disableGlob||!g.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=g.sync(t,e.glob)}if(r.length)for(var i=0;i<r.length;i++){var t=r[i];try{var o=e.lstatSync(t)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&b&&c(t,e,r)}try{o&&o.isDirectory()?l(t,e,null):e.unlinkSync(t)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return b?c(t,e,r):l(t,e,r);if("EISDIR"!==r.code)throw r;l(t,e,r)}}}function l(t,e,r){p(t),p(e),r&&p(r instanceof Error);try{e.rmdirSync(t)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw r;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||h(t,e)}}function h(t,e){p(t),p(e),e.readdirSync(t).forEach(function(r){f(d.join(t,r),e)});for(var r=b?100:1,n=0;;){var i=!0;try{var o=e.rmdirSync(t,e);return i=!1,o}finally{if(++n<r&&i)continue}}}t.exports=i,i.sync=f;var p=r(8),d=r(3),y=r(0),g=r(5),v={nosort:!0,silent:!0},m=0,b="win32"===e.platform}).call(e,r(2))},function(t,e,r){(function(t){var n=r(4),i=r(3),o=n.platform();"linux"!==o&&"darwin"!==o&&"win32"!==o&&(console.error("Unsupported platform."),t.exit(1));var s=n.arch();"darwin"===o&&"x64"!==s&&(console.error("Unsupported architecture."),t.exit(1));var c=i.join(__dirname,"bin",o,s,"win32"===o?"livepeer.exe":"livepeer");e.path=c}).call(e,r(2))},function(t,e,r){(function(t){var n=r(4),i=r(3),o=n.platform();"linux"!==o&&"darwin"!==o&&"win32"!==o&&(console.error("Unsupported platform."),t.exit(1));var s=n.arch();"darwin"===o&&"x64"!==s&&(console.error("Unsupported architecture."),t.exit(1));var c=i.join(__dirname,"bin",o,s,"win32"===o?"ffmpeg.exe":"ffmpeg");e.path=c}).call(e,r(2))}])});